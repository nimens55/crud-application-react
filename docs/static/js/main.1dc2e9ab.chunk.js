(this["webpackJsonpcrud-react"]=this["webpackJsonpcrud-react"]||[]).push([[0],{11:function(e,t,s){},13:function(e,t,s){"use strict";s.r(t);var c=s(2),a=s.n(c),r=s(5),l=s.n(r),n=(s(11),Object(c.createContext)()),i=s(0),d=function(e){return Object(i.jsx)("button",{className:"btn ".concat(e.type),onClick:e.buttonHandler,children:e.text})},j=function(e){var t=Object(c.useContext)(n),s=t.toggleEditUser,a=t.removalUser;return Object(i.jsx)("li",{className:"list-group-item",children:Object(i.jsxs)("div",{className:"row align-items-center",children:[Object(i.jsx)("div",{className:"col",children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col",children:e.fullName}),Object(i.jsx)("div",{className:"col-2",children:e.age+" \u043b\u0435\u0442"}),Object(i.jsx)("div",{className:"col-3",children:e.gender}),Object(i.jsx)("div",{className:"col-3",children:e.cityResidence})]})}),Object(i.jsx)("div",{className:"col-auto",children:Object(i.jsxs)("div",{className:"d-grid gap-2 d-md-flex",children:[Object(i.jsx)(d,{type:"btn-warning",buttonHandler:function(){return s(e.id)},text:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(i.jsx)(d,{type:"btn-danger",buttonHandler:function(){return a(e.id)},text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})})]})})},o=function(){var e=Object(c.useContext)(n),t=e.changeHandlerAddUser,s=e.addNewUser,a=e.\u0441ancelNewUser;return Object(i.jsx)("li",{className:"list-group-item pb-3",children:Object(i.jsxs)("div",{className:"row align-items-end",children:[Object(i.jsx)("div",{className:"col",children:Object(i.jsx)("form",{children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col",children:[Object(i.jsx)("label",{htmlFor:"fullName",className:"form-label",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f"}),Object(i.jsx)("input",{type:"text",name:"fullName",onChange:t,className:"form-control",id:"fullName",placeholder:"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f"})]}),Object(i.jsxs)("div",{className:"col-2",children:[Object(i.jsx)("label",{htmlFor:"age",className:"form-label",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u043e\u0437\u0440\u0430\u0441\u0442"}),Object(i.jsx)("input",{type:"text",name:"age",className:"form-control",onChange:t,id:"age",placeholder:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442"})]}),Object(i.jsxs)("div",{className:"col-3",children:[Object(i.jsx)("label",{htmlFor:"gender",className:"form-label",children:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u043e\u043b"}),Object(i.jsxs)("select",{name:"gender",className:"form-select",onChange:t,id:"gender",required:!0,children:[Object(i.jsx)("option",{children:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439"}),Object(i.jsx)("option",{children:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439"})]})]}),Object(i.jsxs)("div",{className:"col-3",children:[Object(i.jsx)("label",{htmlFor:"cityResidence",className:"form-label",children:"\u0413\u043e\u0440\u043e\u0434 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f"}),Object(i.jsx)("input",{type:"text",onChange:t,name:"cityResidence",className:"form-control",id:"cityResidence",placeholder:"\u0413\u043e\u0440\u043e\u0434 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f"})]})]})})}),Object(i.jsx)("div",{className:"col-auto",children:Object(i.jsxs)("div",{className:"d-grid gap-2 d-md-flex",children:[Object(i.jsx)(d,{type:"btn-success",buttonHandler:s,text:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(i.jsx)(d,{type:"btn-danger",buttonHandler:a,text:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})})]})})},b=function(e){var t=Object(c.useContext)(n),s=t.changeHandlerEditUser,a=t.saveEditUser,r=t.\u0441ancelEditUser;return Object(i.jsx)("li",{className:"list-group-item pb-3",children:Object(i.jsxs)("div",{className:"row align-items-end",children:[Object(i.jsx)("div",{className:"col",children:Object(i.jsx)("form",{children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col",children:[Object(i.jsx)("label",{htmlFor:"fullName",className:"form-label",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f"}),Object(i.jsx)("input",{type:"text",name:"fullName",className:"form-control",onChange:s,id:"fullName",placeholder:"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f",value:e.fullName})]}),Object(i.jsxs)("div",{className:"col-2",children:[Object(i.jsx)("label",{htmlFor:"age",className:"form-label",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u043e\u0437\u0440\u0430\u0441\u0442"}),Object(i.jsx)("input",{type:"text",name:"age",className:"form-control",onChange:s,id:"age",placeholder:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442",value:e.age})]}),Object(i.jsxs)("div",{className:"col-3",children:[Object(i.jsx)("label",{htmlFor:"gender",className:"form-label",children:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u043e\u043b"}),Object(i.jsxs)("select",{name:"gender",className:"form-select",onChange:s,id:"gender",defaultValue:e.gender,children:[Object(i.jsx)("option",{children:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439"}),Object(i.jsx)("option",{children:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439"})]})]}),Object(i.jsxs)("div",{className:"col-3",children:[Object(i.jsx)("label",{htmlFor:"cityResidence",className:"form-label",children:"\u0413\u043e\u0440\u043e\u0434 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f"}),Object(i.jsx)("input",{type:"text",onChange:s,name:"cityResidence",className:"form-control",id:"cityResidence",placeholder:"\u0413\u043e\u0440\u043e\u0434 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f",value:e.cityResidence})]})]})})}),Object(i.jsx)("div",{className:"col-auto",children:Object(i.jsxs)("div",{className:"d-grid gap-2 d-md-flex",children:[Object(i.jsx)(d,{type:"btn-success",buttonHandler:a,text:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(i.jsx)(d,{type:"btn-danger",buttonHandler:r,text:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})})]})})},m=function(){var e=Object(c.useContext)(n),t=e.globalState,s=e.hideAlert;return Object(i.jsxs)("div",{className:"alert alert-danger alert-dismissible",role:"alert",children:[Object(i.jsx)("ul",{className:"m-0",children:t.alert.map((function(e,t){return Object(i.jsx)("li",{className:"text-dark",children:e},t)}))}),Object(i.jsx)("button",{type:"button",onClick:s,className:"btn-close","aria-label":"Close"})]})},u=function(){var e=Object(c.useContext)(n).globalState;return Object(i.jsxs)(a.a.Fragment,{children:[e.alert?Object(i.jsx)(m,{}):null,Object(i.jsxs)("ul",{className:"list-group",children:[e.newItemUser.isNewUser?Object(i.jsx)(o,{}):null,e.users.map((function(t){return e.editItemUser.idEditUser===t.id?Object(i.jsx)(b,{id:e.editItemUser.editUser.id,fullName:e.editItemUser.editUser.fullName,age:e.editItemUser.editUser.age,gender:e.editItemUser.editUser.gender,cityResidence:e.editItemUser.editUser.cityResidence},e.editItemUser.editUser.id):Object(i.jsx)(j,{id:t.id,fullName:t.fullName,age:t.age,gender:t.gender,cityResidence:t.cityResidence},t.id)}))]})]})};var O=function(){var e=Object(c.useContext)(n).toggleNewUser;return Object(i.jsxs)(a.a.Fragment,{children:[Object(i.jsxs)("div",{className:"container pt-4",children:[Object(i.jsxs)("div",{className:"row align-items-center",children:[Object(i.jsx)("div",{className:"col",children:Object(i.jsx)("h1",{children:"CRUD \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"})}),Object(i.jsx)("div",{className:"col-auto",children:Object(i.jsx)(d,{type:"btn-primary",text:"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c",buttonHandler:e})})]}),Object(i.jsx)("hr",{})]}),Object(i.jsx)("div",{className:"container",children:Object(i.jsx)(u,{})})]})},h=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,14)).then((function(t){var s=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,l=t.getTTFB;s(e),c(e),a(e),r(e),l(e)}))},x=s(3),g=s(1),N=s(6),p="TOGGLE_ADD_USER",f="CHANGE_HANDLER_ADD_USER",U="ADD_USER",y="CANCEL_ADD_USER",v="TOGGLE_EDIT_USER",E="CHANGE_HANDLER_EDIT_USER",w="SAVE_EDIT_USER",R="CANCEL_EDIT_USER",I="REMOVAL_USER",C="SHOW_ALERT",_="HIDE_ALERT",A=function(e,t){switch(t.type){case p:return Object(g.a)(Object(g.a)({},e),{},{newItemUser:Object(g.a)(Object(g.a)({},e.newItemUser),{},{isNewUser:t.payload})});case f:return Object(g.a)(Object(g.a)({},e),{},{newItemUser:t.payload});case U:return Object(g.a)(Object(g.a)({},e),{},{users:t.payload});case y:return Object(g.a)(Object(g.a)({},e),{},{newItemUser:t.payload});case v:case E:return Object(g.a)(Object(g.a)({},e),{},{editItemUser:t.payload});case w:return Object(g.a)(Object(g.a)({},e),{},{users:t.payload});case R:return Object(g.a)(Object(g.a)({},e),{},{editItemUser:t.payload});case I:return Object(g.a)(Object(g.a)({},e),{},{users:t.payload});case C:return Object(g.a)(Object(g.a)({},e),{},{alert:t.payload});case _:return Object(g.a)(Object(g.a)({},e),{},{alert:null});default:return e}},H={users:[{id:1,fullName:"\u0416\u0443\u043a\u043e\u0432 \u041c\u0430\u043a\u0441\u0438\u043c \u0422\u0438\u043c\u043e\u0444\u0435\u0435\u0432\u0438\u0447",age:20,gender:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439",cityResidence:"\u0412\u043e\u0440\u043e\u043d\u0435\u0436"},{id:2,fullName:"\u0421\u0442\u0435\u043f\u0430\u043d\u043e\u0432 \u0413\u0435\u0440\u043c\u0430\u043d \u041a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u0438\u043d\u043e\u0432\u0438\u0447",age:36,gender:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439",cityResidence:"\u041c\u043e\u0441\u043a\u0432\u0430"},{id:3,fullName:"\u041a\u0443\u0437\u0438\u043d\u0430 \u041c\u0430\u0440\u0438\u044f \u041c\u0438\u0445\u0430\u0439\u043b\u043e\u0432\u043d\u0430",age:28,gender:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439",cityResidence:"\u041c\u043e\u0441\u043a\u0432\u0430"}],newItemUser:{isNewUser:!1,newUser:{}},editItemUser:{idEditUser:null,editUser:{}},alert:null},D=function(e){var t=[];return e.fullName&&e.fullName.trim()?e.fullName.trim().split(" ").length<3&&t.push("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043f\u043e\u043b\u044f \xab\u043f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f\xbb, \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \xab\u0424\u0430\u043c\u0438\u043b\u0438\u044f \u0418\u043c\u044f \u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e\xbb"):t.push("\u041f\u043e\u043b\u0435 \xab\u043f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f\xbb \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),e.age&&String(e.age).trim()?isNaN(Number(e.age))?t.push("\u041f\u043e\u043b\u0435 \xab\u0432\u043e\u0437\u0440\u0430\u0441\u0442\xbb \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c"):e.age>110?t.push("\u0412\u043e\u0437\u0440\u0430\u0441\u0442 \u0443\u043a\u0430\u0437\u0430\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e, \u0432\u0430\u043c \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c ".concat(e.age)):e.age<0&&t.push("\u0412\u043e\u0437\u0440\u0430\u0441\u0442 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c"):t.push("\u041f\u043e\u043b\u0435 \xab\u0432\u043e\u0437\u0440\u0430\u0441\u0442\xbb \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),e.cityResidence&&e.cityResidence.trim()||t.push("\u041f\u043e\u043b\u0435 \xab\u0433\u043e\u0440\u043e\u0434\xbb \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),t},S=function(e){var t=e.children,s=Object(c.useReducer)(A,H),a=Object(N.a)(s,2),r=a[0],l=a[1],d=function(){b(),l({type:y,payload:{isNewUser:!1,newUser:{}}})},j=function(){b(),l({type:R,payload:{idEditUser:0,editUser:{}}})},o=function(e){l({type:C,payload:e})},b=function(){return l({type:_})};return Object(i.jsx)(n.Provider,{value:{toggleNewUser:function(){j(),l({type:p,payload:!r.newItemUser.isNewUser})},changeHandlerAddUser:function(e){l({type:f,payload:Object(g.a)(Object(g.a)({},r.newItemUser),{},{newUser:Object(g.a)(Object(g.a)({},r.newItemUser.newUser),{},Object(x.a)({},e.target.name,e.target.value))})})},addNewUser:function(){b();var e=r.newItemUser.newUser;e.id=r.users.length+1,e.gender||(e.gender="\u041c\u0443\u0436\u0441\u043a\u043e\u0439");var t=D(e);if(0===t.length){var s=r.users;s.push(e),l({type:U,payload:s}),d()}else o(t)},"\u0441ancelNewUser":d,toggleEditUser:function(e){d(),b();var t=r.users.find((function(t){return t.id===e}));l({type:v,payload:{idEditUser:e,editUser:t}})},changeHandlerEditUser:function(e){l({type:E,payload:Object(g.a)(Object(g.a)({},r.editItemUser),{},{editUser:Object(g.a)(Object(g.a)({},r.editItemUser.editUser),{},Object(x.a)({},e.target.name,e.target.value))})})},saveEditUser:function(){b();var e=r.editItemUser.editUser,t=r.users.findIndex((function(t){return t.id===e.id})),s=D(e);if(0===s.length){var c=r.users;c.splice(t,1,e),l({type:w,payload:c}),j()}else o(s)},"\u0441ancelEditUser":j,removalUser:function(e){b();var t=r.users.filter((function(t){return t.id!==e}));l({type:I,payload:t})},hideAlert:b,globalState:r},children:t})};l.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(S,{children:Object(i.jsx)(O,{})})}),document.getElementById("root")),h()}},[[13,1,2]]]);
//# sourceMappingURL=main.1dc2e9ab.chunk.js.map